# Epic 0: 시스템 설계 및 부품 조사

*실제 구현 전 필요한 부품 조사 및 시스템 설계*

## Story 0.1: 시스템 요구사항 분석

**목표**: 측정해야 할 데이터와 필요한 기능 명확히 정의

### Task 0.1.1: 측정 데이터 항목 정의

- **SubTask 0.1.1.1**: 필수 측정 항목 정의 (전압, 전류, 전력, 에너지)
- **SubTask 0.1.1.2**: 환경 측정 항목 정의 (온도, 습도, 일사량)
- **SubTask 0.1.1.3**: 측정 범위 및 정확도 요구사항 정의
- **SubTask 0.1.1.4**: 데이터 샘플링 주기 결정

### Task 0.1.2: 시스템 아키텍처 설계

- **SubTask 0.1.2.1**: 전체 시스템 블록 다이어그램 작성
- **SubTask 0.1.2.2**: 센서 - 컨트롤러 - 서버 통신 구조 설계
- **SubTask 0.1.2.3**: 전원 공급 방식 결정 (12V/5V 요구사항)
- **SubTask 0.1.2.4**: 데이터 백업 전략 (SD카드 vs 클라우드)

### Task 0.1.3: 안전 요구사항 정의

- **SubTask 0.1.3.1**: 고전압 부분 절연 요구사항
- **SubTask 0.1.3.2**: 과전류/과전압 보호 사양 정의
- **SubTask 0.1.3.3**: 방수/방진 등급 결정 (옥외 설치 시)
- **SubTask 0.1.3.4**: 전기 안전 규정 조사 및 준수 항목 체크리스트

---

## Story 0.2: 센서 및 모듈 조사

**목표**: 각 기능별 최적의 센서 및 모듈 선정

### Task 0.2.1: 전력 측정 센서 조사

- **SubTask 0.2.1.1**: ACS712 vs PZEM-004T 비교 분석
    - 측정 범위, 정확도, 가격, 사용 편의성
- **SubTask 0.2.1.2**: 전압 센서 옵션 조사 (ZMPT101B, 전압 분배기)
- **SubTask 0.2.1.3**: 홀 효과 센서 vs 션트 저항 방식 비교
- **SubTask 0.2.1.4**: 통합 전력 측정 모듈 장단점 분석

### Task 0.2.2: 환경 센서 조사

- **SubTask 0.2.2.1**: 온습도 센서 비교 (DHT22 vs BME280 vs SHT31)
- **SubTask 0.2.2.2**: 조도 센서 조사 (BH1750 vs TSL2561)
- **SubTask 0.2.2.3**: 온도 센서 비교 (DS18B20 vs 써미스터)
- **SubTask 0.2.2.4**: 패널 표면 온도 측정용 방수 센서 조사

### Task 0.2.3: 메인 컨트롤러 선정

- **SubTask 0.2.3.1**: Arduino Mega vs ESP32 vs ESP8266 비교
    - GPIO 핀 수, WiFi 기능, 처리 성능, 가격
- **SubTask 0.2.3.2**: 개발 환경 및 라이브러리 지원 조사
- **SubTask 0.2.3.3**: 전력 소비 및 발열 특성 분석
- **SubTask 0.2.3.4**: 최종 컨트롤러 선정 및 근거 문서화

### Task 0.2.4: 통신 및 저장 모듈 조사

- **SubTask 0.2.4.1**: WiFi 모듈 옵션 (ESP8266, ESP-01)
- **SubTask 0.2.4.2**: SD 카드 모듈 조사 (SPI vs SDIO)
- **SubTask 0.2.4.3**: RTC 모듈 비교 (DS3231 vs DS1307)
- **SubTask 0.2.4.4**: 디스플레이 옵션 (LCD 20x4 vs OLED vs TFT)

### Task 0.2.5: 전원 및 보호 회로 조사

- **SubTask 0.2.5.1**: DC-DC 컨버터 조사 (벅/부스트 컨버터)
- **SubTask 0.2.5.2**: 퓨즈 및 과전류 보호 소자 조사
- **SubTask 0.2.5.3**: 서지 프로텍터 및 EMI 필터 조사
- **SubTask 0.2.5.4**: 절연 트랜스포머 사양 조사

---

## Story 0.3: 회로 설계 및 시뮬레이션

**목표**: 실제 조립 전 회로도 작성 및 검증

### Task 0.3.1: 회로도 작성

- **SubTask 0.3.1.1**: Fritzing 또는 KiCad로 전체 회로도 작성
- **SubTask 0.3.1.2**: 센서별 연결 핀맵 정의
- **SubTask 0.3.1.3**: 전원 공급 회로 설계
- **SubTask 0.3.1.4**: 보호 회로 추가 (다이오드, 퓨즈 배치)

### Task 0.3.2: PCB 레이아웃 설계 (선택사항)

- **SubTask 0.3.2.1**: 브레드보드 vs PCB 제작 결정
- **SubTask 0.3.2.2**: PCB 레이아웃 설계 (KiCad)
- **SubTask 0.3.2.3**: 그라운드 플레인 및 노이즈 대책
- **SubTask 0.3.2.4**: PCB 제작 업체 조사 (JLCPCB, PCBWay 등)

### Task 0.3.3: 회로 시뮬레이션

- **SubTask 0.3.3.1**: LTSpice로 전원 회로 시뮬레이션
- **SubTask 0.3.3.2**: 센서 신호 레벨 검증
- **SubTask 0.3.3.3**: 전류/전압 한계값 체크
- **SubTask 0.3.3.4**: 시뮬레이션 결과 문서화

---

## Story 0.4: 부품 리스트 및 비용 산정

**목표**: 최종 BOM(Bill of Materials) 작성 및 예산 수립

### Task 0.4.1: BOM 작성

- **SubTask 0.4.1.1**: 필수 부품 리스트 작성 (센서, 컨트롤러)
- **SubTask 0.4.1.2**: 전원 및 보호 부품 리스트
- **SubTask 0.4.1.3**: 케이스 및 설치 부품 리스트
- **SubTask 0.4.1.4**: 예비 부품 및 소모품 리스트

### Task 0.4.2: 공급업체 조사

- **SubTask 0.4.2.1**: 국내 업체 조사 (디바이스마트, 엘레파츠)
- **SubTask 0.4.2.2**: 해외 업체 조사 (AliExpress, Amazon)
- **SubTask 0.4.2.3**: 배송 기간 및 비용 비교
- **SubTask 0.4.2.4**: 품질 및 리뷰 확인

### Task 0.4.3: 비용 산정 및 예산 수립

- **SubTask 0.4.3.1**: 부품별 단가 조사 (최소 2개 업체)
- **SubTask 0.4.3.2**: 총 비용 계산 (부품 + 배송)
- **SubTask 0.4.3.3**: 예산안 작성 및 승인 요청
- **SubTask 0.4.3.4**: 대체 부품 옵션 정리 (비용 절감용)

### Task 0.4.4: 구매 우선순위 결정

- **SubTask 0.4.4.1**: 필수 부품 vs 선택 부품 분류
- **SubTask 0.4.4.2**: 1차 구매 리스트 (기본 구성)
- **SubTask 0.4.4.3**: 2차 구매 리스트 (확장 기능)
- **SubTask 0.4.4.4**: 긴급도별 구매 스케줄 수립

---

## Story 0.5: 프로토타입 설계

**목표**: 안전한 테스트를 위한 저전압 프로토타입 계획

### Task 0.5.1: 테스트 시나리오 작성

- **SubTask 0.5.1.1**: 센서 개별 테스트 계획
- **SubTask 0.5.1.2**: 통합 시스템 테스트 계획
- **SubTask 0.5.1.3**: 데이터 전송 테스트 계획
- **SubTask 0.5.1.4**: 장시간 안정성 테스트 계획

### Task 0.5.2: 저전압 테스트 환경 설계

- **SubTask 0.5.2.1**: 5V/12V DC 전원 공급 장치 준비
- **SubTask 0.5.2.2**: 모의 태양광 패널 시뮬레이션 방법
- **SubTask 0.5.2.3**: 부하 시뮬레이터 설계 (가변 저항 등)
- **SubTask 0.5.2.4**: 안전 테스트 환경 구축

### Task 0.5.3: 측정 도구 준비

- **SubTask 0.5.3.1**: 멀티미터 및 오실로스코프 확보
- **SubTask 0.5.3.2**: 클램프 미터 (전류 측정용)
- **SubTask 0.5.3.3**: 교정용 기준 장비 (정확도 검증)
- **SubTask 0.5.3.4**: 데이터 로깅 도구 준비

---

## 산출물

- [ ]  시스템 요구사항 명세서
- [ ]  전체 시스템 블록 다이어그램
- [ ]  부품 비교 분석 보고서
- [ ]  최종 회로도 (Fritzing/KiCad)
- [ ]  BOM (Bill of Materials) 스프레드시트
- [ ]  비용 산정서 및 예산안
- [ ]  구매 우선순위 및 스케줄
- [ ]  안전 체크리스트
- [ ]  프로토타입 테스트 계획서

---

## 다음 에픽으로 이동 조건

- [ ]  BOM 작성 완료 및 승인
- [ ]  예산 확보
- [ ]  필수 측정 도구 확보
- [ ]  안전 요구사항 확인 완료
- [ ]  프로토타입 테스트 계획 수립 완료